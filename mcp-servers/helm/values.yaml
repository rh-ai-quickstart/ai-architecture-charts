# MCP servers configuration
mcp-servers:
  weather:
    enabled: false
    # Deployment mode: auto, mcpserver, or deployment
    # - auto: Use MCPServer if Toolhive is available, otherwise use Deployment (default)
    # - mcpserver: Always use MCPServer (requires Toolhive)
    # - deployment: Always use Deployment (ignore Toolhive)
    deploymentMode: deployment
    image:
      repository: quay.io/rh-ai-quickstart/mcp-weather
      tag: ""  # Defaults to .Chart.Version
    transport: sse
    targetPort: 8000
  
  oracle-sqlcl:
    enabled: false
    deploymentMode: deployment
    image:
      repository: quay.io/rh-ai-quickstart/oracle-sqlcl
      tag: ""  # Defaults to .Chart.Version
    transport: streamable-http
    targetPort: 8080
    # Secrets to mount as volumes
    secretMounts:
      mountPath: /user-secrets
      secrets:
        - oracle-db-user-sales-reader
    volumes:
      - name: sqlcl-home
        emptyDir: {}
    volumeMounts:
      - name: sqlcl-home
        mountPath: /sqlcl-home

  # Official OpenShift/Kubernetes MCP Server
  # https://github.com/openshift/openshift-mcp-server
  openshift:
    enabled: false
    deploymentMode: deployment
    image:
      # Official image from containers project
      repository: quay.io/containers/kubernetes_mcp_server
      tag: latest
    # Supports both sse and streamable-http via --port flag
    transport: streamable-http
    targetPort: 8080
    # Command args for the server
    args:
      - "--port"
      - "8080"
      - "--read-only"  # Safe default - disable writes
    # Service account with cluster permissions for K8s API access
    serviceAccount:
      create: true
      name: openshift-mcp
      # ClusterRole bindings for cluster-wide read access
      clusterRoleBinding:
        enabled: true
        clusterRole: view  # Default view role for read-only access

  # Slack MCP Server (korotovsky - most popular, 1.1k stars)
  # https://github.com/korotovsky/slack-mcp-server
  # Supports stealth mode (no Slack App needed), OAuth, and bot tokens
  slack:
    enabled: false
    deploymentMode: deployment
    image:
      repository: ghcr.io/korotovsky/slack-mcp-server
      tag: latest
    # Supports stdio, sse, and http transports
    transport: sse
    targetPort: 13080
    env:
      SLACK_MCP_HOST: "0.0.0.0"
      SLACK_MCP_PORT: "13080"
    # Authentication - choose ONE option:
    # Option 1: Stealth mode (extract xoxc + xoxd from browser cookies)
    # Option 2: User OAuth token (xoxp)
    # Option 3: Bot token (xoxb - limited to invited channels)
    envSecrets:
      # Stealth mode tokens (recommended - no Slack App needed)
      SLACK_MCP_XOXC_TOKEN:
        name: slack-mcp-credentials
        key: xoxc-token
      SLACK_MCP_XOXD_TOKEN:
        name: slack-mcp-credentials
        key: xoxd-token
      # OR User OAuth token:
      # SLACK_MCP_XOXP_TOKEN:
      #   name: slack-mcp-credentials
      #   key: xoxp-token
      # OR Bot token (limited access):
      # SLACK_MCP_XOXB_TOKEN:
      #   name: slack-mcp-credentials
      #   key: xoxb-token
